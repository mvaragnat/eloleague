<div class="card">
  <div class="card-body">
    <% if standings.any? %>
      <table style="width:100%; border-collapse: collapse;">
        <thead>
          <tr>
            <th style="text-align:left; padding:0.25rem 0;">#</th>
            <th style="text-align:left; padding:0.25rem 0;"><%= t('elo.player') %></th>
            <th style="text-align:right; padding:0.25rem 0;"><%= t('tournaments.show.standings.games_played', default: 'Games Played') %></th>
            <th style="text-align:right; padding:0.25rem 0;"><%= @primary_label || t('tournaments.show.standings.points', default: 'Points') %></th>
            <th style="text-align:right; padding:0.25rem 0;"><%= @tiebreak1_label || t('tournaments.show.standings.score', default: 'Score') %></th>
          </tr>
        </thead>
        <tbody>
          <% standings.each_with_index do |row, idx| %>
            <tr>
              <td style="padding:0.25rem 0;"><%= idx + 1 %></td>
              <td style="padding:0.25rem 0;"><%= row[:user].username %></td>
              <td style="padding:0.25rem 0; text-align:right;"><%= tournament.matches.where(a_user: row[:user]).or(tournament.matches.where(b_user: row[:user])).where.not(result: 'pending').count %></td>
              <td style="padding:0.25rem 0; text-align:right;"><%= row[:primary] %></td>
              <td style="padding:0.25rem 0; text-align:right;"><%= row[:tiebreak1] %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p class="card-date"><%= t('tournaments.show.no_standings', default: 'No results yet') %></p>
    <% end %>
  </div>
</div>


